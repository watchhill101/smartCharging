{"timestamp": "2025-08-20T20:55:09.178124", "level": "INFO", "level_no": 20, "message": "开始增强日志系统测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 301}
{"timestamp": "2025-08-20T20:55:09.178812", "level": "INFO", "level_no": 20, "message": "这是一条INFO日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 74}
{"timestamp": "2025-08-20T20:55:09.179178", "level": "WARNING", "level_no": 30, "message": "这是一条WARNING日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 75}
{"timestamp": "2025-08-20T20:55:09.179561", "level": "ERROR", "level_no": 40, "message": "这是一条ERROR日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 76}
{"timestamp": "2025-08-20T20:55:09.180460", "level": "CRITICAL", "level_no": 50, "message": "这是一条CRITICAL日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 77}
{"timestamp": "2025-08-20T20:55:09.180942", "level": "INFO", "level_no": 20, "message": "测试通过: 基础日志功能测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0021314620971679688, "test_details": "所有日志级别测试完成"}}
{"timestamp": "2025-08-20T20:55:09.181353", "level": "INFO", "level_no": 20, "message": "结构化日志测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 101, "context": {"request_id": "req-12345", "user_id": "user-67890", "component": "test_component", "operation": "test_operation", "pile_id": "pile-abc123"}, "metadata": {"test_data": {"key1": "[REDACTED]", "key2": "[REDACTED]"}, "test_number": 42, "test_boolean": true}}
{"timestamp": "2025-08-20T20:55:09.181756", "level": "INFO", "level_no": 20, "message": "测试通过: 结构化日志测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0004017353057861328, "test_details": "结构化日志记录成功"}}
{"timestamp": "2025-08-20T20:55:09.182523", "level": "INFO", "level_no": 20, "message": "在上下文中的日志1", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 122, "context": {"request_id": "ctx-test-123", "operation": "context_test"}}
{"timestamp": "2025-08-20T20:55:09.182977", "level": "INFO", "level_no": 20, "message": "嵌套上下文中的日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 125, "context": {"request_id": "ctx-test-123", "user_id": "user-ctx-456", "operation": "context_test"}}
{"timestamp": "2025-08-20T20:55:09.183329", "level": "INFO", "level_no": 20, "message": "在上下文中的日志2", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 127, "context": {"request_id": "ctx-test-123", "operation": "context_test"}}
{"timestamp": "2025-08-20T20:55:09.183678", "level": "INFO", "level_no": 20, "message": "上下文外的日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 129}
{"timestamp": "2025-08-20T20:55:09.184009", "level": "INFO", "level_no": 20, "message": "测试通过: 上下文管理测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0015044212341308594, "test_details": "上下文管理测试完成"}}
{"timestamp": "2025-08-20T20:55:09.295364", "level": "ERROR", "level_no": 40, "message": "测试失败: 性能追踪测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 60, "metadata": {"test_duration": 0.11103200912475586, "failure_details": "'PerformanceMetrics' object has no attribute 'update'"}}
{"timestamp": "2025-08-20T20:55:09.296979", "level": "ERROR", "level_no": 40, "message": "捕获到测试异常", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 174, "error": {"type": "ValueError", "message": "这是一个测试异常", "traceback": "Traceback (most recent call last):\n  File \"D:\\hao-warehouse\\smartCharging\\chargingService\\test_enhanced_logging.py\", line 172, in test_error_handling\n    raise ValueError(\"这是一个测试异常\")\nValueError: 这是一个测试异常"}, "metadata": {"error_context": "test_error_handling", "error_code": "TEST_ERROR_001"}}
{"timestamp": "2025-08-20T20:55:09.299871", "level": "ERROR", "level_no": 40, "message": "除零错误", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 183, "error": {"type": "ZeroDivisionError", "message": "division by zero", "traceback": "Traceback (most recent call last):\n  File \"D:\\hao-warehouse\\smartCharging\\chargingService\\test_enhanced_logging.py\", line 181, in test_error_handling\n    result = 1 / 0\n             ~~^~~\nZeroDivisionError: division by zero"}}
{"timestamp": "2025-08-20T20:55:09.301071", "level": "INFO", "level_no": 20, "message": "测试通过: 错误处理测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.00409388542175293, "test_details": "错误处理测试完成"}}
{"timestamp": "2025-08-20T20:55:09.301329", "level": "INFO", "level_no": 20, "message": "包含敏感数据的日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 207, "metadata": {"user_data": {"username": "testuser", "password": "[REDACTED]", "api_key": "[REDACTED]", "token": "[REDACTED]", "normal_field": "normal_value"}, "request_info": {"authorization": "[REDACTED]", "content_type": "application/json"}}}
{"timestamp": "2025-08-20T20:55:09.301590", "level": "INFO", "level_no": 20, "message": "测试通过: 敏感数据清理测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0002598762512207031, "test_details": "敏感数据清理测试完成"}}
{"timestamp": "2025-08-20T20:55:09.301803", "level": "INFO", "level_no": 20, "message": "指标测试日志 1", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.301941", "level": "INFO", "level_no": 20, "message": "指标测试日志 2", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.302054", "level": "INFO", "level_no": 20, "message": "指标测试日志 3", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.302201", "level": "INFO", "level_no": 20, "message": "指标测试日志 4", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.302359", "level": "INFO", "level_no": 20, "message": "指标测试日志 5", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.302595", "level": "INFO", "level_no": 20, "message": "指标测试日志 6", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.302799", "level": "INFO", "level_no": 20, "message": "指标测试日志 7", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.302931", "level": "INFO", "level_no": 20, "message": "指标测试日志 8", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.303094", "level": "INFO", "level_no": 20, "message": "指标测试日志 9", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.303260", "level": "INFO", "level_no": 20, "message": "指标测试日志 10", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:09.303406", "level": "WARNING", "level_no": 30, "message": "警告日志 1", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 233}
{"timestamp": "2025-08-20T20:55:09.303657", "level": "WARNING", "level_no": 30, "message": "警告日志 2", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 233}
{"timestamp": "2025-08-20T20:55:09.303905", "level": "WARNING", "level_no": 30, "message": "警告日志 3", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 233}
{"timestamp": "2025-08-20T20:55:09.304050", "level": "ERROR", "level_no": 40, "message": "错误日志 1", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 236}
{"timestamp": "2025-08-20T20:55:09.304270", "level": "ERROR", "level_no": 40, "message": "错误日志 2", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 236}
{"timestamp": "2025-08-20T20:55:09.304522", "level": "INFO", "level_no": 20, "message": "测试通过: 指标收集测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0027163028717041016, "test_details": "指标收集完成，总日志数: 34"}}
{"timestamp": "2025-08-20T20:55:09.306057", "level": "INFO", "level_no": 20, "message": "测试通过: 健康检查测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0013196468353271484, "test_details": "健康检查完成，状态: degraded"}}
{"timestamp": "2025-08-20T20:55:09.306311", "level": "INFO", "level_no": 20, "message": "文件日志测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 279}
{"timestamp": "2025-08-20T20:55:09.306451", "level": "ERROR", "level_no": 40, "message": "文件错误日志测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 280}
{"timestamp": "2025-08-20T20:55:09.418991", "level": "INFO", "level_no": 20, "message": "测试通过: 文件日志记录测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.11266160011291504, "test_details": "日志文件存在: True"}}
{"timestamp": "2025-08-20T20:55:09.419512", "level": "INFO", "level_no": 20, "message": "所有测试完成", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 322}
{"timestamp": "2025-08-20T20:55:09.421297", "level": "INFO", "level_no": 20, "message": "测试报告已生成", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 349, "metadata": {"report_file": "enhanced_logging_test_report.json", "total_tests": 9, "success_rate": 88.88888888888889}}
{"timestamp": "2025-08-20T20:55:28.113603", "level": "INFO", "level_no": 20, "message": "开始增强日志系统测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 301}
{"timestamp": "2025-08-20T20:55:28.114102", "level": "INFO", "level_no": 20, "message": "这是一条INFO日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 74}
{"timestamp": "2025-08-20T20:55:28.114312", "level": "WARNING", "level_no": 30, "message": "这是一条WARNING日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 75}
{"timestamp": "2025-08-20T20:55:28.114499", "level": "ERROR", "level_no": 40, "message": "这是一条ERROR日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 76}
{"timestamp": "2025-08-20T20:55:28.114701", "level": "CRITICAL", "level_no": 50, "message": "这是一条CRITICAL日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 77}
{"timestamp": "2025-08-20T20:55:28.114963", "level": "INFO", "level_no": 20, "message": "测试通过: 基础日志功能测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0008673667907714844, "test_details": "所有日志级别测试完成"}}
{"timestamp": "2025-08-20T20:55:28.115169", "level": "INFO", "level_no": 20, "message": "结构化日志测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 101, "context": {"request_id": "req-12345", "user_id": "user-67890", "component": "test_component", "operation": "test_operation", "pile_id": "pile-abc123"}, "metadata": {"test_data": {"key1": "[REDACTED]", "key2": "[REDACTED]"}, "test_number": 42, "test_boolean": true}}
{"timestamp": "2025-08-20T20:55:28.115449", "level": "INFO", "level_no": 20, "message": "测试通过: 结构化日志测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0002796649932861328, "test_details": "结构化日志记录成功"}}
{"timestamp": "2025-08-20T20:55:28.115631", "level": "INFO", "level_no": 20, "message": "在上下文中的日志1", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 122, "context": {"request_id": "ctx-test-123", "operation": "context_test"}}
{"timestamp": "2025-08-20T20:55:28.115794", "level": "INFO", "level_no": 20, "message": "嵌套上下文中的日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 125, "context": {"request_id": "ctx-test-123", "user_id": "user-ctx-456", "operation": "context_test"}}
{"timestamp": "2025-08-20T20:55:28.115965", "level": "INFO", "level_no": 20, "message": "在上下文中的日志2", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 127, "context": {"request_id": "ctx-test-123", "operation": "context_test"}}
{"timestamp": "2025-08-20T20:55:28.116117", "level": "INFO", "level_no": 20, "message": "上下文外的日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 129}
{"timestamp": "2025-08-20T20:55:28.116243", "level": "INFO", "level_no": 20, "message": "测试通过: 上下文管理测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0006272792816162109, "test_details": "上下文管理测试完成"}}
{"timestamp": "2025-08-20T20:55:28.229930", "level": "INFO", "level_no": 20, "message": "测试操作完成", "logger_name": "test_logger", "module": "enhanced_logging", "line_no": 506, "metadata": {"performance": {"duration": 0.11339759826660156, "memory_usage": {"rss": 27.03515625, "vms": 17.3984375}, "cpu_percent": 0.0, "operation": "test_operation"}}}
{"timestamp": "2025-08-20T20:55:28.292158", "level": "INFO", "level_no": 20, "message": "上下文操作完成", "logger_name": "test_logger", "module": "enhanced_logging", "line_no": 506, "metadata": {"performance": {"duration": 0.06162095069885254, "memory_usage": {"rss": 27.04296875, "vms": 17.3984375}, "cpu_percent": 0.0, "operation": "context_operation"}}}
{"timestamp": "2025-08-20T20:55:28.292631", "level": "INFO", "level_no": 20, "message": "测试通过: 性能追踪测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.17620515823364258, "test_details": "计时器测试完成，测量时长: 0.113s"}}
{"timestamp": "2025-08-20T20:55:28.292907", "level": "ERROR", "level_no": 40, "message": "捕获到测试异常", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 174, "error": {"type": "ValueError", "message": "这是一个测试异常", "traceback": "Traceback (most recent call last):\n  File \"D:\\hao-warehouse\\smartCharging\\chargingService\\test_enhanced_logging.py\", line 172, in test_error_handling\n    raise ValueError(\"这是一个测试异常\")\nValueError: 这是一个测试异常"}, "metadata": {"error_context": "test_error_handling", "error_code": "TEST_ERROR_001"}}
{"timestamp": "2025-08-20T20:55:28.295647", "level": "ERROR", "level_no": 40, "message": "除零错误", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 183, "error": {"type": "ZeroDivisionError", "message": "division by zero", "traceback": "Traceback (most recent call last):\n  File \"D:\\hao-warehouse\\smartCharging\\chargingService\\test_enhanced_logging.py\", line 181, in test_error_handling\n    result = 1 / 0\n             ~~^~~\nZeroDivisionError: division by zero"}}
{"timestamp": "2025-08-20T20:55:28.296903", "level": "INFO", "level_no": 20, "message": "测试通过: 错误处理测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.003995180130004883, "test_details": "错误处理测试完成"}}
{"timestamp": "2025-08-20T20:55:28.297239", "level": "INFO", "level_no": 20, "message": "包含敏感数据的日志", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 207, "metadata": {"user_data": {"username": "testuser", "password": "[REDACTED]", "api_key": "[REDACTED]", "token": "[REDACTED]", "normal_field": "normal_value"}, "request_info": {"authorization": "[REDACTED]", "content_type": "application/json"}}}
{"timestamp": "2025-08-20T20:55:28.297442", "level": "INFO", "level_no": 20, "message": "测试通过: 敏感数据清理测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.00020241737365722656, "test_details": "敏感数据清理测试完成"}}
{"timestamp": "2025-08-20T20:55:28.297717", "level": "INFO", "level_no": 20, "message": "指标测试日志 1", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.297859", "level": "INFO", "level_no": 20, "message": "指标测试日志 2", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.298030", "level": "INFO", "level_no": 20, "message": "指标测试日志 3", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.298166", "level": "INFO", "level_no": 20, "message": "指标测试日志 4", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.298273", "level": "INFO", "level_no": 20, "message": "指标测试日志 5", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.298454", "level": "INFO", "level_no": 20, "message": "指标测试日志 6", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.298674", "level": "INFO", "level_no": 20, "message": "指标测试日志 7", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.298914", "level": "INFO", "level_no": 20, "message": "指标测试日志 8", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.299049", "level": "INFO", "level_no": 20, "message": "指标测试日志 9", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.299208", "level": "INFO", "level_no": 20, "message": "指标测试日志 10", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 230}
{"timestamp": "2025-08-20T20:55:28.299311", "level": "WARNING", "level_no": 30, "message": "警告日志 1", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 233}
{"timestamp": "2025-08-20T20:55:28.299625", "level": "WARNING", "level_no": 30, "message": "警告日志 2", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 233}
{"timestamp": "2025-08-20T20:55:28.299835", "level": "WARNING", "level_no": 30, "message": "警告日志 3", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 233}
{"timestamp": "2025-08-20T20:55:28.299975", "level": "ERROR", "level_no": 40, "message": "错误日志 1", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 236}
{"timestamp": "2025-08-20T20:55:28.300154", "level": "ERROR", "level_no": 40, "message": "错误日志 2", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 236}
{"timestamp": "2025-08-20T20:55:28.300332", "level": "INFO", "level_no": 20, "message": "测试通过: 指标收集测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0026140213012695312, "test_details": "指标收集完成，总日志数: 36"}}
{"timestamp": "2025-08-20T20:55:28.301746", "level": "INFO", "level_no": 20, "message": "测试通过: 健康检查测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.0012459754943847656, "test_details": "健康检查完成，状态: degraded"}}
{"timestamp": "2025-08-20T20:55:28.302022", "level": "INFO", "level_no": 20, "message": "文件日志测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 279}
{"timestamp": "2025-08-20T20:55:28.302294", "level": "ERROR", "level_no": 40, "message": "文件错误日志测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 280}
{"timestamp": "2025-08-20T20:55:28.416932", "level": "INFO", "level_no": 20, "message": "测试通过: 文件日志记录测试", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 55, "metadata": {"test_duration": 0.11489439010620117, "test_details": "日志文件存在: True"}}
{"timestamp": "2025-08-20T20:55:28.417373", "level": "INFO", "level_no": 20, "message": "所有测试完成", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 322}
{"timestamp": "2025-08-20T20:55:28.418894", "level": "INFO", "level_no": 20, "message": "测试报告已生成", "logger_name": "test_logger", "module": "test_enhanced_logging", "line_no": 349, "metadata": {"report_file": "enhanced_logging_test_report.json", "total_tests": 9, "success_rate": 100.0}}
