// 设计系统变量
:root {
  --primary-color: #1890ff;
  --primary-light: #40a9ff;
  --primary-dark: #096dd9;
  --success-color: #52c41a;
  --warning-color: #faad14;
  --error-color: #ff4d4f;
  --info-color: #1890ff;
  
  --text-primary: #262626;
  --text-secondary: #595959;
  --text-tertiary: #8c8c8c;
  --text-disabled: #bfbfbf;
  
  --bg-primary: #ffffff;
  --bg-secondary: #fafafa;
  --bg-tertiary: #f5f5f5;
  --bg-disabled: #f0f0f0;
  
  --border-color: #d9d9d9;
  --border-light: #f0f0f0;
  --border-dark: #8c8c8c;
  
  --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.06);
  --shadow-medium: 0 4px 16px rgba(0, 0, 0, 0.08);
  --shadow-heavy: 0 8px 24px rgba(0, 0, 0, 0.12);
  
  --radius-small: 6px;
  --radius-medium: 12px;
  --radius-large: 16px;
  --radius-xl: 24px;
  
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 12px;
  --spacing-lg: 16px;
  --spacing-xl: 20px;
  --spacing-xxl: 24px;
  
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-md: 16px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;
  --font-size-xxl: 24px;
}

.start-page {
  min-height: 100vh;
  background: #ffffff;
  padding-bottom: 120px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;

  // 导航栏样式
  .nav {
    position: sticky;
    top: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--spacing-lg) var(--spacing-xl);
    background: var(--bg-primary);
    border-bottom: 1px solid var(--border-light);
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.95);

    .back {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--bg-tertiary);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      
      &:hover {
        background: var(--border-color);
        transform: scale(1.05);
      }
      
      &:active {
        transform: scale(0.95);
      }
    }

    .back-icon { 
      font-size: 24px; 
      color: var(--text-secondary);
      font-weight: 600;
    }
    
    .title { 
      font-size: var(--font-size-lg); 
      font-weight: 600; 
      color: var(--text-primary);
      letter-spacing: -0.01em;
    }
    
    .spacer { width: 40px; height: 40px; }
  }

  // 充电说明区域
  .instruction-section {
    margin: var(--spacing-md);
    padding: var(--spacing-xl);
    background: var(--bg-primary);
    border-radius: var(--radius-medium);
    box-shadow: var(--shadow-light);
    border: 1px solid var(--border-light);

    .instruction-text {
      color: var(--text-secondary);
      font-size: var(--font-size-sm);
      line-height: 1.6;
      text-align: center;

      .clickable-link {
        color: var(--primary-color);
        cursor: pointer;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.2s ease;
        
        &:hover {
          color: var(--primary-dark);
          text-decoration: underline;
        }
      }
    }
  }

  // 站点信息卡片
  .station-card {
    margin: var(--spacing-md) var(--spacing-md) 0;
    background: var(--bg-primary);
    border-radius: var(--radius-medium);
    padding: var(--spacing-xl);
    box-shadow: var(--shadow-light);
    border: 1px solid var(--border-light);
    transition: all 0.2s ease;
    
    &:hover {
      box-shadow: var(--shadow-medium);
      transform: translateY(-1px);
    }

    .station-name { 
      font-size: var(--font-size-lg); 
      font-weight: 700; 
      color: var(--text-primary);
      margin-bottom: var(--spacing-md);
      line-height: 1.4;
    }
    
    .tags { 
      display: flex; 
      gap: var(--spacing-sm); 
      margin-bottom: var(--spacing-lg);
      flex-wrap: wrap;
    }
    
    .tag { 
      background: var(--bg-tertiary); 
      color: var(--text-secondary); 
      padding: var(--spacing-xs) var(--spacing-sm); 
      border-radius: var(--radius-small); 
      font-size: var(--font-size-xs);
      font-weight: 500;
      border: 1px solid var(--border-light);
      transition: all 0.2s ease;
      
      &:hover {
        background: var(--border-color);
        transform: translateY(-1px);
      }
    }
    
    .tag.power { 
      background: #e6f7ff; 
      color: var(--primary-dark);
      border-color: #91d5ff;
    }
    
    .tag.invo { 
      background: #f6ffed; 
      color: var(--success-color);
      border-color: #b7eb8f;
    }

    .price-row { 
      display: flex; 
      align-items: center; 
      justify-content: space-between;
      margin-bottom: var(--spacing-sm);
    }
    
    .label { 
      color: var(--text-secondary); 
      font-size: var(--font-size-sm);
      font-weight: 500;
    }
    
    .price { 
      color: var(--error-color);
      font-weight: 600;
    }
    
    .num { 
      font-size: var(--font-size-xl); 
      font-weight: 800; 
      margin-right: var(--spacing-xs);
    }

    .period { 
      background: var(--bg-tertiary); 
      border-radius: var(--radius-small); 
      padding: var(--spacing-xs) var(--spacing-sm); 
      color: var(--text-tertiary); 
      font-size: var(--font-size-xs);
      display: inline-block;
      border: 1px solid var(--border-light);
    }
  }

  // 支付方式卡片
  .pay-card {
    margin: var(--spacing-md); 
    background: var(--bg-primary); 
    border-radius: var(--radius-medium); 
    padding: var(--spacing-xl); 
    box-shadow: var(--shadow-light);
    border: 1px solid var(--border-light);
    transition: all 0.2s ease;
    
    &:hover {
      box-shadow: var(--shadow-medium);
    }

    .pay-head { 
      display: flex; 
      align-items: center; 
      justify-content: space-between; 
      margin-bottom: var(--spacing-lg);
      padding-bottom: var(--spacing-md);
      border-bottom: 1px solid var(--border-light);
    }
    
    .pay-title { 
      font-weight: 700; 
      color: var(--text-primary);
      font-size: var(--font-size-md);
    }
    
    .pay-note { 
      color: var(--primary-color);
      font-size: var(--font-size-sm);
      cursor: pointer;
      transition: color 0.2s ease;
      
      &:hover {
        color: var(--primary-dark);
      }
    }

    .deposit { 
      display: flex; 
      align-items: center; 
      gap: var(--spacing-sm); 
      margin: var(--spacing-lg) 0;
      padding: var(--spacing-md);
      background: var(--bg-tertiary);
      border-radius: var(--radius-small);
      border: 1px solid var(--border-light);
    }
    
    .check { 
      width: 20px; 
      height: 20px; 
      border-radius: 4px; 
      border: 2px solid var(--border-color); 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      color: var(--bg-primary); 
      background: var(--bg-primary); 
      cursor: pointer;
      transition: all 0.2s ease;
      
      &:hover {
        border-color: var(--primary-color);
      }
    }
    
    .check.checked { 
      background: var(--success-color); 
      border-color: var(--success-color);
      transform: scale(1.1);
    }
    
    .deposit-title { 
      font-weight: 600; 
      color: var(--text-primary);
      font-size: var(--font-size-sm);
    }
    
    .deposit-desc { 
      color: var(--text-tertiary); 
      font-size: var(--font-size-xs);
    }

    .amount-grid { 
      display: grid; 
      grid-template-columns: repeat(3, 1fr); 
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-lg);
    }
    
    .amount-item { 
      background: var(--bg-tertiary); 
      border: 2px solid var(--border-light); 
      height: 60px; 
      border-radius: var(--radius-medium); 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 600;
      
      &:hover {
        background: var(--bg-secondary);
        border-color: var(--primary-color);
        transform: translateY(-2px);
      }
    }
    
    .amount-item.selected { 
      background: var(--primary-color); 
      border-color: var(--primary-color);
      color: var(--bg-primary);
      transform: scale(1.05);
      box-shadow: var(--shadow-medium);
    }
    
    .amount-text { 
      font-size: var(--font-size-md); 
      color: inherit; 
      font-weight: 700;
    }

    .pay-methods { 
      display: grid; 
      grid-template-columns: 1fr 1fr; 
      gap: var(--spacing-md);
    }
    
    .method { 
      background: var(--bg-tertiary); 
      border: 2px solid var(--border-light); 
      border-radius: var(--radius-medium); 
      padding: var(--spacing-lg); 
      display: flex; 
      align-items: center; 
      gap: var(--spacing-md); 
      cursor: pointer;
      transition: all 0.2s ease;
      
      &:hover {
        background: var(--bg-secondary);
        border-color: var(--primary-color);
        transform: translateY(-1px);
      }
    }
    
    .method.active { 
      border-color: var(--success-color); 
      background: #f6ffed;
      box-shadow: var(--shadow-light);
    }
    
    .icon { 
      font-size: 24px;
      filter: grayscale(0.3);
    }
    
    .text { 
      font-weight: 600; 
      color: var(--text-primary);
      font-size: var(--font-size-sm);
    }
  }

  // 营业信息卡片
  .business-card {
    margin: var(--spacing-md); 
    background: var(--bg-primary); 
    border-radius: var(--radius-medium); 
    padding: var(--spacing-xl); 
    box-shadow: var(--shadow-light);
    border: 1px solid var(--border-light);
    transition: all 0.2s ease;
    
    &:hover {
      box-shadow: var(--shadow-medium);
    }

    .business-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--spacing-lg);
      padding-bottom: var(--spacing-md);
      border-bottom: 1px solid var(--border-light);
    }

    .business-title { 
      font-size: var(--font-size-md); 
      font-weight: 700; 
      color: var(--text-primary);
    }

    .business-tag { 
      background: #f6ffed; 
      color: var(--success-color); 
      padding: var(--spacing-xs) var(--spacing-sm); 
      border-radius: var(--radius-small); 
      font-size: var(--font-size-xs); 
      font-weight: 600;
      border: 1px solid #b7eb8f;
    }

    .business-details {
      .info-line {
        display: flex;
        align-items: center;
        margin-bottom: var(--spacing-md);
        position: relative;
        padding: var(--spacing-sm) 0;

        .label {
          color: var(--text-secondary);
          font-size: var(--font-size-sm);
          min-width: 80px;
          margin-right: var(--spacing-md);
          font-weight: 500;
        }

        .value {
          color: var(--text-primary);
          font-size: var(--font-size-sm);
          flex: 1;
          font-weight: 500;
        }

        .license-link {
          color: var(--primary-color);
          font-size: var(--font-size-sm);
          cursor: pointer;
          margin-left: auto;
          font-weight: 500;
          transition: color 0.2s ease;
          
          &:hover {
            color: var(--primary-dark);
            text-decoration: underline;
          }
        }
      }
    }
  }

  // 充电操作区域
  .charging-action-section {
    position: fixed;
    left: var(--spacing-md);
    right: var(--spacing-md);
    bottom: var(--spacing-md);
    background: var(--bg-primary);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    box-shadow: var(--shadow-heavy);
    display: flex;
    align-items: center;
    justify-content: space-between;
    border: 1px solid var(--border-light);
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.95);
    
    .charging-mode {
      background: linear-gradient(135deg, #ff6b35, #f7931e);
      color: var(--bg-primary);
      padding: var(--spacing-sm) var(--spacing-lg);
      border-radius: var(--radius-large);
      font-size: var(--font-size-sm);
      font-weight: 700;
      white-space: nowrap;
      box-shadow: var(--shadow-light);
      transition: all 0.2s ease;
      
      &:hover {
        transform: translateY(-1px);
        box-shadow: var(--shadow-medium);
      }
    }
    
    .start-btn {
      background: var(--text-tertiary);
      color: var(--bg-primary);
      border-radius: var(--radius-large);
      height: 52px;
      flex: 1;
      margin-left: var(--spacing-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 700;
      
      &:hover {
        background: var(--text-secondary);
        transform: translateY(-1px);
      }
      
      &:active {
        transform: translateY(0);
      }
    }
    
    .start-text {
      font-size: var(--font-size-md);
      font-weight: 700;
    }
  }
}

// 响应式设计
@media (max-width: 768px) {
  .start-page {
    .station-card,
    .pay-card,
    .business-card {
      margin: var(--spacing-sm);
      padding: var(--spacing-lg);
    }
    
    .amount-grid {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .pay-methods {
      grid-template-columns: 1fr;
    }
    
    .charging-action-section {
      left: var(--spacing-sm);
      right: var(--spacing-sm);
      bottom: var(--spacing-sm);
      padding: var(--spacing-lg);
    }
  }
}

// 深色模式支持
@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #1f1f1f;
    --bg-secondary: #141414;
    --bg-tertiary: #262626;
    --text-primary: #ffffff;
    --text-secondary: #d9d9d9;
    --text-tertiary: #8c8c8c;
    --border-color: #434343;
    --border-light: #303030;
  }
}
